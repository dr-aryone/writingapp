<div id="dashboard" class="container page">
  <uib-alert ng-repeat="msg in dash.messages" type="{{ msg.type }}" ng-show="dash.messages" close="dash.closeMsg($index)">
    {{ msg.text }}
  </uib-alert>

  <h1>
    Welcome, <span id="user_name"><em>{{ dash.userInfo.firstName }} {{ dash.userInfo.lastName }}</em></span>!

    <button class="btn btn-primary pull-right" type="button" id="add_book" ng-click="dash.addBook(dash.userInfo.books)">
      <i class="fa fa-plus"></i>
      New Book
    </button>
  </h1>
  <hr>

  <h2>Your Books</h2>

  <uib-accordion close-others="dash.oneAtATime">
    <uib-accordion-group ng-repeat="book in dash.userInfo.books" is-open="book.open">
      <uib-accordion-heading>
        <i class="fa fa-times delete-book" click-override ng-click="dash.confirmDelete(book, dash.userInfo.books)"></i>
        <i class="fa fa-pencil edit-book" click-override ng-click="dash.editBook(book)"></i>
        {{ book.title }}
        <i class="fa pull-right" ng-class="{ 'fa-chevron-right': !book.open, 'fa-chevron-down': book.open }"></i>
      </uib-accordion-heading>

      {{ book.summary }}
    </uib-accordion-group>
  </uib-accordion>

</div>
